in_channels: 3                                   # the number of in_channels to fnet and cnet. 1 for greyscale image.

encoder_params:
  in_planes: 64
  hidden_dim: 128
  context_dim: 128
  corr_levels: 4
  corr_radius: 4
  dropout: 0
  fnet:                                           # Feature encoder
    block: ResidualBlock
    output_dim: 256
    norm_fn: 'instance'                           # 'instance' - for instance normalization
  cnet:                                           # Context encoder
    block: ResidualBlock
    norm_fn: 'batch'                              # 'batch' - for batch normalization
    output_dim: 256                               # context_dim + hidden_dim
  update_block:
    hidden_dim: ${..hidden_dim}
    use_mask: True
    motion_encoder:
      num_corr_conv: 2                            # limited to max 2 conv layers
      convc1_output_dim: 256
      convc2_output_dim: 192
      convf1_output_dim: 128
      convf2_output_dim: 64
      conv_output_dim: 126
    gru:
      block: SepConvGRU
      hidden_dim: ${...hidden_dim}
      input_dim: 256
    flow_head:
      hidden_dim: 256
      input_dim: ${arch_params.encoder_params.update_block.gru.hidden_dim}

corr_params:
  alternate_corr: False

flow_params:
  training_iters: 12                              # the number of iterations during training the optimization loop will run to refine the optical flow predictions over multiple iterations
  validation_iters: 24                            # the number of iterations during validating
  upsample_mode: convex                           # if none, then using a predefined upsample function (upflow8) OR convex with large model only
